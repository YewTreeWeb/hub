{"version":3,"sources":["search.js"],"names":["displaySearchResults","results","store","searchResults","document","getElementById","length","appendString","i","item","ref","url","title","content","substring","innerHTML","getQueryVariable","variable","query","window","location","search","vars","split","pair","decodeURIComponent","replace","searchTerm","setAttribute","idx","lunr","field","boost","key","add","author","category"],"mappings":"AAAA,CAAC,YAAY;AACX,WAASA,oBAAT,CAA8BC,OAA9B,EAAuCC,KAAvC,EAA8C;AAC5C,QAAIC,gBAAgBC,SAASC,cAAT,CAAwB,gBAAxB,CAApB;;AAEA,QAAIJ,QAAQK,MAAZ,EAAoB;AAClB;AACA,UAAIC,eAAe,EAAnB;;AAEA,WAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIP,QAAQK,MAA5B,EAAoCE,GAApC,EAAyC;AACvC;AACA,YAAIC,OAAOP,MAAMD,QAAQO,CAAR,EAAWE,GAAjB,CAAX;AACAH,wBAAgB,kBAAkBE,KAAKE,GAAvB,GAA6B,QAA7B,GAAwCF,KAAKG,KAA7C,GAAqD,WAArE;AACAL,wBAAgB,QAAQE,KAAKI,OAAL,CAAaC,SAAb,CAAuB,CAAvB,EAA0B,GAA1B,CAAR,GAAyC,cAAzD;AACD;;AAEDX,oBAAcY,SAAd,GAA0BR,YAA1B;AACD,KAZD,MAYO;AACLJ,oBAAcY,SAAd,GAA0B,2BAA1B;AACD;AACF;;AAED,WAASC,gBAAT,CAA0BC,QAA1B,EAAoC;AAClC,QAAIC,QAAQC,OAAOC,QAAP,CAAgBC,MAAhB,CAAuBP,SAAvB,CAAiC,CAAjC,CAAZ;AACA,QAAIQ,OAAOJ,MAAMK,KAAN,CAAY,GAAZ,CAAX;;AAEA,SAAK,IAAIf,IAAI,CAAb,EAAgBA,IAAIc,KAAKhB,MAAzB,EAAiCE,GAAjC,EAAsC;AACpC,UAAIgB,OAAOF,KAAKd,CAAL,EAAQe,KAAR,CAAc,GAAd,CAAX;;AAEA,UAAIC,KAAK,CAAL,MAAYP,QAAhB,EAA0B;AACxB,eAAOQ,mBAAmBD,KAAK,CAAL,EAAQE,OAAR,CAAgB,KAAhB,EAAuB,KAAvB,CAAnB,CAAP;AACD;AACF;AACF;;AAED,MAAIC,aAAaX,iBAAiB,OAAjB,CAAjB;;AAEA,MAAIW,UAAJ,EAAgB;AACdvB,aAASC,cAAT,CAAwB,YAAxB,EAAsCuB,YAAtC,CAAmD,OAAnD,EAA4DD,UAA5D;;AAEA;AACA;AACA,QAAIE,MAAMC,KAAK,YAAY;AACzB,WAAKC,KAAL,CAAW,IAAX;AACA,WAAKA,KAAL,CAAW,OAAX,EAAoB,EAAEC,OAAO,EAAT,EAApB;AACA,WAAKD,KAAL,CAAW,QAAX;AACA,WAAKA,KAAL,CAAW,UAAX;AACA,WAAKA,KAAL,CAAW,SAAX;AACD,KANS,CAAV;;AAQA,SAAK,IAAIE,GAAT,IAAgBd,OAAOjB,KAAvB,EAA8B;AAC5B;AACA2B,UAAIK,GAAJ,CAAQ;AACN,cAAMD,GADA;AAEN,iBAASd,OAAOjB,KAAP,CAAa+B,GAAb,EAAkBrB,KAFrB;AAGN,kBAAUO,OAAOjB,KAAP,CAAa+B,GAAb,EAAkBE,MAHtB;AAIN,oBAAYhB,OAAOjB,KAAP,CAAa+B,GAAb,EAAkBG,QAJxB;AAKN,mBAAWjB,OAAOjB,KAAP,CAAa+B,GAAb,EAAkBpB;AALvB,OAAR;;AAQA,UAAIZ,UAAU4B,IAAIR,MAAJ,CAAWM,UAAX,CAAd,CAV4B,CAUU;AACtC3B,2BAAqBC,OAArB,EAA8BkB,OAAOjB,KAArC,EAX4B,CAWiB;AAC9C;AACF;AACF,CA/DD;AAgEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"../search.js","sourcesContent":["(function () {\n  function displaySearchResults(results, store) {\n    var searchResults = document.getElementById('search-results');\n\n    if (results.length) {\n      // Are there any results?\n      var appendString = '';\n\n      for (var i = 0; i < results.length; i++) {\n        // Iterate over the results\n        var item = store[results[i].ref];\n        appendString += '<li><a href=\"' + item.url + '\"><h3>' + item.title + '</h3></a>';\n        appendString += '<p>' + item.content.substring(0, 150) + '...</p></li>';\n      }\n\n      searchResults.innerHTML = appendString;\n    } else {\n      searchResults.innerHTML = '<li>No results found</li>';\n    }\n  }\n\n  function getQueryVariable(variable) {\n    var query = window.location.search.substring(1);\n    var vars = query.split('&');\n\n    for (var i = 0; i < vars.length; i++) {\n      var pair = vars[i].split('=');\n\n      if (pair[0] === variable) {\n        return decodeURIComponent(pair[1].replace(/\\+/g, '%20'));\n      }\n    }\n  }\n\n  var searchTerm = getQueryVariable('query');\n\n  if (searchTerm) {\n    document.getElementById('search-box').setAttribute(\"value\", searchTerm);\n\n    // Initalize lunr with the fields it will be searching on. I've given title\n    // a boost of 10 to indicate matches on this field are more important.\n    var idx = lunr(function () {\n      this.field('id');\n      this.field('title', { boost: 10 });\n      this.field('author');\n      this.field('category');\n      this.field('content');\n    });\n\n    for (var key in window.store) {\n      // Add the data to lunr\n      idx.add({\n        'id': key,\n        'title': window.store[key].title,\n        'author': window.store[key].author,\n        'category': window.store[key].category,\n        'content': window.store[key].content\n      });\n\n      var results = idx.search(searchTerm); // Get lunr to perform a search\n      displaySearchResults(results, window.store); // We'll write this in the next section\n    }\n  }\n})();\n//# sourceMappingURL=maps/search.js.map\n//# sourceMappingURL=maps/search.js.map\n//# sourceMappingURL=maps/search.js.map\n//# sourceMappingURL=maps/search.js.map\n//# sourceMappingURL=maps/search.js.map\n//# sourceMappingURL=maps/search.js.map\n//# sourceMappingURL=maps/search.js.map\n//# sourceMappingURL=maps/search.js.map\n//# sourceMappingURL=maps/search.js.map\n"]}